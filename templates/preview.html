<head>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<div style="text-align: center;">
    <h1>Preview</h1>
    <h4 id="counter">Current count: 0</h4>
    <canvas id="window" width="500" height="500"></canvas>
    <script src="static/js/drawpreview.js"></script>
    <br>
    <form method="post">
        <label for="URI">Camera URI:</label>
        <input type="text" id="URI" name="URI">
        <input type="button" value="Submit" onclick="SubmitURI()"/><br>
        <label for="THRESH">Tracking Threshold (in pixels):</label>
        <input type="number" id="THRESH" name="THRESH">
        <input type="button" value="Submit" onclick="SubmitThresh()"/><br>
        <label for="HIST">Number of history frames:</label>
        <input type="number" id="HIST" name="HIST">
        <input type="button" value="Submit" onclick="SubmitHist()"/><br>
        <script>
            function SubmitURI(){
                let element = document.getElementById("URI").value
                const response = fetch("/CONFIGURI", {
                    method: 'POST',
                    mode:'cors',
                    headers: {
                    'Content-Type': 'application/json'
                    // 'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: JSON.stringify(element),
                
                })
            }
            function SubmitThresh(){
                let element = document.getElementById("THRESH").value
                const response = fetch("/CONFIGTHRESH", {
                    method: 'POST',
                    mode:'cors',
                    headers: {
                    'Content-Type': 'application/json'
                    // 'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: JSON.stringify(element),
                
                })
            }
            function SubmitHist(){
                let element = document.getElementById("HIST").value
                const response = fetch("/CONFIGHIST", {
                    method: 'POST',
                    mode:'cors',
                    headers: {
                    'Content-Type': 'application/json'
                    // 'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: JSON.stringify(element),
                
                })
            }
        </script>
    </form>
    <a href="/configurezones"> Click here to configure zone points </a>
</div>